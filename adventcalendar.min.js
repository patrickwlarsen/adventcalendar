var adventcalendar={debug:!1,init:function(){if(null!=adventcalendar.persistence.load()){var e=adventcalendar.persistence.load();this.doors=e.doors}else adventcalendar.firstTimeSetup();adventcalendar.setupCalendar(),adventcalendar.initDoors(),adventcalendar.initActiveDoor(),adventcalendar.debug},initDoors:function(){$(".door").each(function(o,e){$($(".door")[o]).on("click",function(){var e=adventcalendar.doors[parseInt($(this).attr("number"))-1];console.log("door clicked!",e),$($(".door")[o]).removeClass("unopened"),$($(".door")[o]).addClass("opened"),adventcalendar.openDoor(e)})})},initActiveDoor:function(){$("#activeDoorClose").on("click",function(){var e=$("#activeDoor");$("#activeDoorVideo").html(""),e.hide()})},testVideos:function(){for(var e=["SFpiOoWFNNg"],o=0;o<e.length;o++){var r='<iframe width="420" height="315" src="https://www.youtube.com/embed/'+e[o]+'" autoplay="true"></iframe>';$("body").append(r)}},persistence:{save:function(){var e={doors:adventcalendar.doors};localStorage.setItem("adventcalendar",JSON.stringify(e))},load:function(){return JSON.parse(localStorage.getItem("adventcalendar"))}},openDoor:function(e){var o=$("#activeDoor"),r=($("#activeDoorContent"),$("#activeDoorVideo")),s=$("#activeDoorComment"),a=$("#activeDoorImage");if(new Date>=e.openDate||adventcalendar.debug){var n='<iframe width="420" height="315" src="https://www.youtube.com/embed/'+e.video+'" autoplay="true"></iframe>';r.html(n),s.html("<p>"+e.comment+"</p>"),-1<[6,13,20].indexOf(e.number)&&(console.log("yes"),s.append('<a class="pluglink" href="https://plug.dj/tardokings" target="_blank">Plug DJ</a>')),o.show(),e.opened=!0,adventcalendar.persistence.save(),console.log(e)}else{n='<iframe width="420" height="315" src="https://www.youtube.com/embed/l9bLoheF3uc?start=10&autoplay=true"></iframe>';r.html(n),s.html("<p>Hey hey! Ikke snyde!</p>"),a.html('<img src="img/dennis.gif"></img>'),o.show()}},firstTimeSetup:function(){console.log("generating new data"),this.doors=[];for(var e=[],o=0;o<24;o++){for(var r=Math.floor(24*Math.random())+1,s=!0;s;)-1==e.indexOf(r)?s=!1:r=Math.floor(24*Math.random())+1;var a={opened:!1,number:o+1,video:"",image:"",comment:"",openDate:null,position:r};this.doors.push(a),e.push(r)}var n=["vwrvbjBF7YQ","lfpjXcawG60","8xeBGx2bfxc","pXDlzsKmhn4","gpe3nXpnAZc","pHAqJ4F6NSo","RJDY6fDoSzo","HBBwXAPNLr0","LsL8dGj0BLU","3owSSPoTdaE","QoPofJeWuR0","a8O-iLZM-gA","eKRw0W6UVCQ","ljv1fO4qrIw","ebv51QNm2Bk","iUXAHc-ABoY","xCBT-rRHGmk","OKrRCTvjbEY","7DCz1SgByDM","SEIoYyAoXNg","29s6fS7Y5dY","QSa8KQtIBhU","FGXDKrUoVrw","SFpiOoWFNNg"],t=["1","2","3","4","5","Idag er der julemusik paa pluggen :-)","7","8","9","10","11","12","Julemusik paa pluggen woohooo!","14","15","16","17","18","19","Julemanden er DJ paa pluggen - og han har lovet at han ikke spiller Wham!","21","22","YMAL bliver gratis!","Glaedelig jul!!"];for(o=0;o<this.doors.length;o++)this.doors[o].video=n[o],this.doors[o].comment=t[o],this.doors[o].openDate=new Date(2019,11,o+1);adventcalendar.persistence.save()},setupCalendar:function(){for(var e=$("#adventcalendar"),o=new Array(24),r=0;r<this.doors.length;r++){var s=this.doors[r],a='<div class="door'+(s.opened?" opened":" unopened")+'"';a+=' position="'+s.position+'"',a+=' number="'+s.number+'">'+s.number+"</div>",o[s.position]=a}for(r=0;r<o.length;r++)e.append(o[r])}};document.addEventListener("keydown",keyDownTextField,!1);var progress=[];function keyDownTextField(e){var o=!1;switch(e.keyCode){case 82:progress=[82];break;case 65:1==progress.length&&82==progress[0]?progress.push(65):5==progress.length&&82==progress[0]&&65==progress[1]&&71==progress[2]&&69==progress[3]&&67==progress[4]?progress.push(65):progress=[];break;case 71:2==progress.length&&82==progress[0]&&65==progress[1]?progress.push(71):6==progress.length&&82==progress[0]&&65==progress[1]&&71==progress[2]&&69==progress[3]&&67==progress[4]&&65==progress[5]?progress.push(71):progress=[];break;case 69:3==progress.length&&82==progress[0]&&65==progress[1]&&71==progress[2]?progress.push(69):7==progress.length&&82==progress[0]&&65==progress[1]&&71==progress[2]&&69==progress[3]&&67==progress[4]&&65==progress[5]&&71==progress[6]?o=!0:progress=[];break;case 67:4==progress.length&&82==progress[0]&&65==progress[1]&&71==progress[2]&&69==progress[3]?progress.push(67):progress=[]}o&&(adventcalendar.debug=!0,console.log("go"),$("body").css("background-image",'url("https://consequenceofsound.net/wp-content/uploads/2018/09/cage-rage-memes.png?w=807")'),$("body").css("background-repeat","repeat"))}$(document).ready(function(){adventcalendar.init()});